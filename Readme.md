# Личный проект «TaskForce»

- Студент: [Евгений Фаллер](https://up.htmlacademy.ru/nodejs-2/3/user/505933).
- Наставник: [Алексей Пан](https://htmlacademy.ru/profile/id1437965).

### Подготовка сервисов.

Для корректной работы сервисов в системе должны быть установлены актуальный LTS релиз `Node.js` и `Docker`. Актуальная версия Node.js указана в файле `package.json` в поле `node`.
Если данные компоненты установлены, то необходимо сделать следующие шаги:

1. В терминале перейдите в директорию `project` и запустите команду `npm i`. В систему установятся необходимые пакеты (зависимости).
2. В каждом из сервисов (в директории `./apps`) находится файл `.env.example`. Переименуйте файлы `.env.example` в `.env.development`. Это позволит быстро запустить сервисы с преднастроеными переменными окружения. Разумеется, данный файл помещен туда исключительно для удобства развертывания и должен быть исключен из VCS.
3. Находясь в этой же директории, запустите команду `npm run application:up`. В результате этой команды в `docker` будут созданы соответствующие сервисы, произведена генерация типов и т.д.
4. Далее для сервисов, использующих в качестве хранилища базу данных `PostgreSQL` необходимо создать соответствующие базы данных.
   Например, для микросервиса `comment` название БД будет `taskforce.comment.postgres` с паролем `admin` (указано в `.env.development`) и соответсвующим паролем.
   Список сервисов, использующих в качестве БД `PostgreSQL`: `comment`, `review` и `task`.
5. Все, базы данных созданы, теперь нужно выполнить миграции для некоторых сервисов. Для этого из под директории `project` выполните команду `npm run application:db:migrate`.
   Для сервисов `comment`, `review` и `task` будут выполнены соответствующие миграции.
6. На данном этапе все предварительные настройки сделаны, и теперь вы можете запустить те сервисы, которые потребуются для работы.
   Команды для запуска соответствующих сервисов (находясь в той же директории `project`):
   `npx nx run notify:serve`
   `npx nx run account:serve`
   `npx nx run task:serve`
   `npx nx run comment:serve`
   `npx nx run review:serve`
   `npx nx run uploader:serve`

Приятной работы!
